import{Y as l,d as b,f as o,ha as m}from"./chunk-6JEIGHQT.js";var u=class s{constructor(t,e){this.http=t;this.constService=e;this.BASE_URL=e.FULL_URL+"/combat",this.MAX_ROUNDS=this.constService.MAX_ROUNDS}BASE_URL;MAX_ROUNDS;newcombat(t,e,r,i,a,n,h){let c=this.BASE_URL+"/new";return this.http.post(c,{idSwp1:t,idSwp2:i,idWeapon1:e,idWeapon2:a,roundsScored1:r,roundsScored2:n,userId:h})}getAllCombats(){let t=this.BASE_URL;return this.http.get(t)}getCombatById(t){let e=this.BASE_URL+"/"+t;return this.http.get(e)}getCombatBySwordplayerId(t){let e=this.BASE_URL+"/swordplayer/"+t;return this.http.get(e)}getCombatByBothSwordplayers(t,e){let r=this.BASE_URL+"/search/"+t+"/"+e;return console.log(r),this.http.get(r)}getCombatsByClanId(t){let e=this.BASE_URL+"/clan/"+t;return this.http.get(e)}updateCombat(t,e,r,i,a){let n=this.BASE_URL+"/"+t;return this.http.patch(n,{id_weapon1:e,id_weapon2:r,roundsScored1:i,roundsScored2:a})}deleteCombat(t){let e=this.BASE_URL+"/"+t;return this.http.delete(e)}validateCombat(t,e,r,i,a,n){return console.log(t,i,e,a,r,n),!t||!i||!e||!a||!r&&!n?(window.alert("Preencha todos os campos"),!1):t==i?(window.alert("Selecione swordplayers diferentes"),!1):r<0||n<0?(window.alert("Rounds n\xE3o podem ser negativos"),!1):r<Math.ceil(this.MAX_ROUNDS/2)&&n<Math.ceil(this.MAX_ROUNDS/2)?(window.alert("Ningu\xE9m atingiu o n\xFAmero de rounds para vit\xF3ria"),!1):r>Math.ceil(this.MAX_ROUNDS/2)||n>Math.ceil(this.MAX_ROUNDS/2)?(window.alert("Nenhum swordplayer deve ganhar mais de "+Math.ceil(this.MAX_ROUNDS/2)+" rounds"),!1):r+n>this.MAX_ROUNDS?(window.alert("N\xE3o devem ser registrados mais de "+this.MAX_ROUNDS+" no total"),!1):!0}static \u0275fac=function(e){return new(e||s)(o(l),o(m))};static \u0275prov=b({token:s,factory:s.\u0275fac,providedIn:"root"})};export{u as a};
